{"remainingRequest":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brandonluy/Desktop/admin-website/src/components/ViewBusinesses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brandonluy/Desktop/admin-website/src/components/ViewBusinesses.vue","mtime":1648562893474},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js","mtime":1648530005330},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js","mtime":1648530005500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE1kVGFibGUgfSBmcm9tICd2dWUtbWF0ZXJpYWwvZGlzdC9jb21wb25lbnRzJzsKaW1wb3J0ICd2dWUtbWF0ZXJpYWwvZGlzdC92dWUtbWF0ZXJpYWwubWluLmNzcycKaW1wb3J0ICd2dWUtbWF0ZXJpYWwvZGlzdC90aGVtZS9kZWZhdWx0LmNzcycKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpWdWUudXNlKE1kVGFibGUpOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ01hbmFnZVRlc3RQYWNrYWdlcycsCiAgICBjb21wb25lbnRzOiB7CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjdXJTZWFyY2g6ICIiLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGZpbHRlcmVkVGVzdFBhY2thZ2VzKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hCdXNpbmVzcygpOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkICgpIHsKICAgICAgdmFyIGludGVybmFsID0gdGhpczsKCiAgICAgIC8vIHdoZW4gdGhlIGNvbXBvbmVudCBtb3VudHMsIHF1ZXJ5IHdoaWNoIFRlc3QgUGFja2FnZXMgYXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgQ3VzdG9tZXIgKHVzZXIpLgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0VGVzdFBhY2thZ2VzJyk7CgogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgc2VhcmNoVmFsOiBTdHJpbmcKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2VhcmNoQnVzaW5lc3MoKSB7CiAgICAgICAgICAgIHZhciBpbnRlcm5hbCA9IHRoaXM7CgogICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmVuJ3QgYW55IFRlc3QgUGFja2FnZXMsIHJldHVybiBhbiBlbXB0eSBhcnJheQogICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudGVzdFBhY2thZ2VzID09IG51bGwgfHwgdGhpcy4kc3RvcmUuc3RhdGUudGVzdFBhY2thZ2VzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIG1ha2Ugc2VhcmNoIGxvd2VyY2FzZSBzbyB0aGF0IGl0IGlzbid0IGNhc2Ugc2Vuc2l0aXZlCiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFN0cmluZyA9IGludGVybmFsLmN1clNlYXJjaC50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgLy8gSWYgYW55IHBhcnQgb2YgdGhlIENsaWVudCdzIG5hbWUsIGVtYWlsLCBvciBwaG9uZSBudW1iZXIgbWF0Y2ggdGhlIHNlYXJjaCBzdHJpbmcsIHNob3cgdGhlbSBhcyBhIHNlYXJjaCByZXN1bHQKICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuJHN0b3JlLnN0YXRlLnRlc3RQYWNrYWdlcy5maWx0ZXIoIGZ1bmN0aW9uKHRlc3QpIHsKICAgICAgICAgICAgICAgIGlmICh0ZXN0LnBhY2thZ2VOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoU3RyaW5nKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgfSwKCiAgICAgICAgcmVkaXJlY3RUb0NyZWF0ZVRlc3RQYWNrYWdlKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvY3JlYXRldGVzdHBhY2thZ2UnIH0pOwogICAgICAgIH0sCiAgICB9Cn0KCgo="},{"version":3,"sources":["ViewBusinesses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ViewBusinesses.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- View Businesses Page Header-->\n    <div style=\"padding-bottom:50px; padding-top:25px\">\n        <h1>View Businesses</h1>\n    </div>\n    <div style=\"padding-bottom:25px\">\n        <b-row>\n            <b-col>\n                <!-- Search bar -->\n                <b-input-group>\n                    <!-- Activates search method when input in search bar changes -->\n                    <b-form-input placeholder=\"Search...\" @input=\"searchBusiness()\" v-model=\"curSearch\"></b-form-input>\n                    <b-input-group-append>\n                        <!-- search button, mostly aesthetic, but also activates search method when clicked -->\n                        <b-button variant=\"outline-secondary\" @click=\"searchBusiness()\">\n                            <b-icon icon=\"search\"></b-icon>\n                        </b-button>\n                    </b-input-group-append>\n                </b-input-group>\n            </b-col>\n            <b-col>\n                <!-- Enroll new Client button, will redirect user to New Client page in the future -->\n                <b-button variant=\"success\" title=\"Note\" @click=\"redirectToCreateTestPackage()\">\n                    <b-icon icon=\"plus-circle\"></b-icon>\n                    Retrieve States\n                </b-button>\n            </b-col>\n        </b-row>\n    </div>\n    <div>\n        <!-- Client table, renders the filteredClients (Clients that meet current search criteria) -->\n        <md-table v-model=\"filteredTestPackages\" style=\"padding-bottom:50px\">\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n                <md-table-cell md-label=\"Name\" md-sort-by=\"name\"><router-link :to=\"`/testpackages/${item.testPackageId}`\" class=\"nav-link\">{{ item.packageName }}</router-link></md-table-cell>\n                <md-table-cell md-label=\"Number of Tests\" md-sort-by=\"numTests\">{{ item.testSettings.length }}</md-table-cell>\n            </md-table-row>\n        </md-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { MdTable } from 'vue-material/dist/components';\nimport 'vue-material/dist/vue-material.min.css'\nimport 'vue-material/dist/theme/default.css'\nimport Vue from 'vue';\nVue.use(MdTable);\n\nexport default {\n    name: 'ManageTestPackages',\n    components: {\n    },\n    data() {\n        return {\n            curSearch: \"\",\n        }\n    },\n    computed: {\n        filteredTestPackages() {\n            return this.searchBusiness();\n        }\n    },\n    mounted () {\n      var internal = this;\n\n      // when the component mounts, query which Test Packages are associated with the Customer (user).\n      this.$store.dispatch('getTestPackages');\n\n    },\n    props: {\n        searchVal: String\n    },\n    methods: {\n        searchBusiness() {\n            var internal = this;\n\n            // if there aren't any Test Packages, return an empty array\n            if (this.$store.state.testPackages == null || this.$store.state.testPackages.length == 0) {\n                return [];\n            }\n\n            // make search lowercase so that it isn't case sensitive\n            const searchString = internal.curSearch.toLowerCase();\n\n            // If any part of the Client's name, email, or phone number match the search string, show them as a search result\n            const results = this.$store.state.testPackages.filter( function(test) {\n                if (test.packageName.toLowerCase().includes(searchString)) {\n                    return test;\n                }\n            });\n            return results;\n        },\n\n        redirectToCreateTestPackage() {\n            this.$router.push({ path: '/createtestpackage' });\n        },\n    }\n}\n\n\n</script>\n\n<style>\n</style>\n"]}]}