{"remainingRequest":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brandonluy/Desktop/admin-website/src/components/ManageClients.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brandonluy/Desktop/admin-website/src/components/ManageClients.vue","mtime":1639724274000},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js","mtime":1648530005330},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js","mtime":1648530005500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE1kVGFibGUgfSBmcm9tICd2dWUtbWF0ZXJpYWwvZGlzdC9jb21wb25lbnRzJzsKaW1wb3J0ICd2dWUtbWF0ZXJpYWwvZGlzdC92dWUtbWF0ZXJpYWwubWluLmNzcycKaW1wb3J0ICd2dWUtbWF0ZXJpYWwvZGlzdC90aGVtZS9kZWZhdWx0LmNzcycKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpWdWUudXNlKE1kVGFibGUpOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ01hbmFnZUNsaWVudHMnLAogICAgY29tcG9uZW50czogewogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY3VyU2VhcmNoOiAiIiwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBmaWx0ZXJlZENsaWVudHMoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaENsaWVudHMoKTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgIHZhciBpbnRlcm5hbCA9IHRoaXM7CgogICAgICAvLyB3aGVuIHRoZSBjb21wb25lbnQgbW91bnRzLCBxdWVyeSB3aGljaCBDbGllbnRzIGFyZSBhc3NvY2lhdGVkIHdpdGggdGhlIEN1c3RvbWVyICh1c2VyKS4KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldENsaWVudHMnKTsKCiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICBzZWFyY2hWYWw6IFN0cmluZwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWFyY2hDbGllbnRzKCkgewogICAgICAgICAgICB2YXIgaW50ZXJuYWwgPSB0aGlzOwoKICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlbid0IGFueSBDbGllbnRzLCByZXR1cm4gYW4gZW1wdHkgYXJyYXkKICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNsaWVudHMgPT0gbnVsbCB8fCB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRzLmxlbmd0aCA8IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gbWFrZSBzZWFyY2ggbG93ZXJjYXNlIHNvIHRoYXQgaXQgaXNuJ3QgY2FzZSBzZW5zaXRpdmUKICAgICAgICAgICAgY29uc3Qgc2VhcmNoU3RyaW5nID0gaW50ZXJuYWwuY3VyU2VhcmNoLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgICAvLyBJZiBhbnkgcGFydCBvZiB0aGUgQ2xpZW50J3MgbmFtZSwgZW1haWwsIG9yIHBob25lIG51bWJlciBtYXRjaCB0aGUgc2VhcmNoIHN0cmluZywgc2hvdyB0aGVtIGFzIGEgc2VhcmNoIHJlc3VsdAogICAgICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy4kc3RvcmUuc3RhdGUuY2xpZW50cy5maWx0ZXIoIGZ1bmN0aW9uKGNsaWVudCkgewogICAgICAgICAgICAgICAgaWYgKGNsaWVudC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoU3RyaW5nKSB8fCBjbGllbnQuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hTdHJpbmcpIHx8IGNsaWVudC5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFN0cmluZykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgfSwKCiAgICAgICAgZ29FbnJvbGwoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9lbnJvbGwnIH0pOwogICAgICAgIH0sCiAgICB9Cn0KCgo="},{"version":3,"sources":["ManageClients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ManageClients.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- \"Manage Clients\" page header -->\n    <div style=\"padding-bottom:50px; padding-top:25px\">\n        <h1>Manage Clients</h1>\n    </div>\n    <div style=\"padding-bottom:25px\">\n        <b-row>\n            <b-col>\n                <!-- Search bar -->\n                <b-input-group>\n                    <!-- Activates search method when input in search bar changes -->\n                    <b-form-input placeholder=\"Search...\" @input=\"searchClients()\" v-model=\"curSearch\"></b-form-input>\n                    <b-input-group-append>\n                        <!-- search button, mostly aesthetic, but also activates search method when clicked -->\n                        <b-button variant=\"outline-secondary\" @click=\"searchClients()\">\n                            <b-icon icon=\"search\"></b-icon>\n                        </b-button>\n                    </b-input-group-append>\n                </b-input-group>\n            </b-col>\n            <b-col>\n                <!-- Enroll new Client button, will redirect user to New Client page in the future -->\n                <b-button variant=\"success\" @click=\"goEnroll()\">\n                    <b-icon icon=\"plus-circle\"></b-icon>\n                    Enroll New Client\n                </b-button>\n            </b-col>\n        </b-row>\n    </div>\n    <div style=\"padding-bottom:50px\">\n        <!-- Client table, renders the filteredClients (Clients that meet current search criteria) -->\n        <md-table v-model=\"filteredClients\">\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n                <md-table-cell md-label=\"Name\" md-sort-by=\"name\"><router-link :to=\"`/clients/${item.id}`\" class=\"nav-link\">{{ item.name }}</router-link></md-table-cell>\n                <md-table-cell md-label=\"Email\" md-sort-by=\"email\">{{ item.email }}</md-table-cell>\n                <md-table-cell md-label=\"Phone Number\" md-sort-by=\"phoneNumber\">{{ item.phoneNumber }}</md-table-cell>\n                <md-table-cell md-label=\"Last Time Test Package Run\" md-sort-by=\"lastTimeTestPackageRun\">{{item.lastTestPackageRunTime && item.lastTestPackageRunTime != '' ? item.lastTestPackageRunTime : '-'}}</md-table-cell>\n            </md-table-row>\n        </md-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { MdTable } from 'vue-material/dist/components';\nimport 'vue-material/dist/vue-material.min.css'\nimport 'vue-material/dist/theme/default.css'\nimport Vue from 'vue';\nVue.use(MdTable);\n\nexport default {\n    name: 'ManageClients',\n    components: {\n    },\n    data() {\n        return {\n            curSearch: \"\",\n        }\n    },\n    computed: {\n        filteredClients() {\n            return this.searchClients();\n        }\n    },\n    mounted () {\n      var internal = this;\n\n      // when the component mounts, query which Clients are associated with the Customer (user).\n      this.$store.dispatch('getClients');\n\n    },\n    props: {\n        searchVal: String\n    },\n    methods: {\n        searchClients() {\n            var internal = this;\n\n            // if there aren't any Clients, return an empty array\n            if (this.$store.state.clients == null || this.$store.state.clients.length < 1) {\n                return [];\n            }\n\n            // make search lowercase so that it isn't case sensitive\n            const searchString = internal.curSearch.toLowerCase();\n\n            // If any part of the Client's name, email, or phone number match the search string, show them as a search result\n            const results = this.$store.state.clients.filter( function(client) {\n                if (client.name.toLowerCase().includes(searchString) || client.email.toLowerCase().includes(searchString) || client.email.toLowerCase().includes(searchString)) {\n                    return client;\n                }\n            });\n            return results;\n        },\n\n        goEnroll() {\n            this.$router.push({ path: '/enroll' });\n        },\n    }\n}\n\n\n</script>\n\n<style>\n</style>\n"]}]}