{"remainingRequest":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brandonluy/Desktop/admin-website/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brandonluy/Desktop/admin-website/src/components/Login.vue","mtime":1639724274000},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/thread-loader/dist/cjs.js","mtime":1648530004696},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js","mtime":1648530005330},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js","mtime":1648530005500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgLy8gQ3VzdG9tZXIgaW5wdXRzCiAgICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgICAgZW1haWxWYWxpZDogbnVsbCwKICAgICAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICBwYXNzd29yZFZhbGlkOiBudWxsLAogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgICAgICAgcGFzc3dvcmRGZWVkYmFjazogIiIsCiAgICAgICAgICAgIGVtYWlsRmVlZGJhY2s6ICIiLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgbG9naW5DdXN0b21lcigpIHsKICAgICAgICAgICAgdmFyIGludGVybmFsID0gdGhpczsKCiAgICAgICAgICAgIC8vIGlmIHRoZSBpbnB1dCBpcyB2YWxpZCwgY2FsbCB0aGUgZ2V0Q3VzdG9tZXIgbXV0YXRpb24gbWV0aG9kLgogICAgICAgICAgICBpZiAodGhpcy5wYXNzd29yZFZhbGlkICYmIHRoaXMuZW1haWxWYWxpZCkgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpbnRlcm5hbC5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGludGVybmFsLmVycm9yTWVzc2FnZSA9ICIiOyAvLyByZXNldCBlcnJvciBtZXNzYWdlIGlmIHRoZXJlIHdhcyBvbmUKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdHJ5IHsgCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2ggKCdnZXRDdXN0b21lcicsIHsgZW1haWw6IGludGVybmFsLmVtYWlsLCBwYXNzd29yZDogaW50ZXJuYWwucGFzc3dvcmR9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKChzdGF0dXMpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHN0YXR1cyBjb2RlIGluZGljYXRlcyBzdWNjZXNzIG9yIGZhaWx1cmUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA8IDMwMCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBUb2FzdCB0byBpbmZvcm0gdXNlciB0aGF0IGxvZ2luIHdhcyBzdWNjZXNzZnVsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRidlRvYXN0LnRvYXN0KCdTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZGlyZWN0IHVzZXIgdG8gdGhlIHRlc3RMaXN0IHBhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9jbGllbnRzJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXkgYW5kIG5vdGUgdGhhdCB0aGVyZSB3YXMgYW4gZXJyb3IgaWYgZmFpbHVyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwuZXJyb3JNZXNzYWdlID0gIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9nZ2luZyBpbiBhY2NvdW50LiBQbGVhc2UgdHJ5IGFnYWluLiI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5lcnJvck1lc3NhZ2UgPSAiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2dnaW5nIGluIGFjY291bnQuIFBsZWFzZSB0cnkgYWdhaW4uIjsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVSUk9SOiIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGludGVybmFsLmVycm9yTWVzc2FnZSA9ICJUaGVyZSB3YXMgYSBwcm9ibGVtIGxvZ2dpbmcgaW4gYWNjb3VudC4gUGxlYXNlIHRyeSBhZ2Fpbi4iOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFUlJPUjoiLCBlcnJvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBpbnZhbGlkL21pc3NpbmcgaW5wdXQgaW4gZm9ybSwgaW5kaWNhdGUgdGhpcyB0byB0aGUgdXNlci4KICAgICAgICAgICAgICAgIGludGVybmFsLmVycm9yTWVzc2FnZSA9ICJQbGVhc2UgZmlsbCBvdXQgdGhlIGZvcm0gYXMgaW5kaWNhdGVkIGFib3ZlLiIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2FuY2VsTG9naW4oKSB7CiAgICAgICAgICAgIC8vIHJldHVybiBiYWNrIHRvIHRoZSBzaWduIHVwIHBhZ2UgaWYgdXNlciBjbGlja3MgQ2FuY2VsCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9sb2dpbicgfSk7CiAgICAgICAgfSwKICAgICAgICB2YWxpZGF0ZVBhc3N3b3JkKCkgewogICAgICAgICAgICAvLyB2YWxpZGF0ZSB0aGF0IFBhc3N3b3JkIGlzIGF0IGxlYXN0IDMgY2hhcmFjdGVycyBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDEwMCBjaGFyYWN0ZXJzCiAgICAgICAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmxlbmd0aCA+PSA4ICYmIHRoaXMucGFzc3dvcmQubGVuZ3RoIDw9IDEwMCkgewogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZFZhbGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRGZWVkYmFjayA9ICIiOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoIDwgOCkgewogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZFZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkRmVlZGJhY2sgPSAiUGxlYXNlIGVudGVyIGF0IGxlYXN0IDggY2hhcmFjdGVycy4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZFZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkRmVlZGJhY2sgPSAiUGFzc3dvcmRzIGFyZSBsaW1pdGVkIHRvIDEwMCBjaGFyYWN0ZXJzIGluIGxlbmd0aC4iOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB2YWxpZGF0ZUVtYWlsKCkgewogICAgICAgICAgICAvLyB2YWxpZGF0ZSB0aGF0IGVtYWlsIGlzIGF0IGxlYXN0IDMgY2hhcmFjdGVycyBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDMyMCBjaGFyYWN0ZXJzIChodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzY5NiNzZWN0aW9uLTMpCiAgICAgICAgICAgIGlmICh0aGlzLmVtYWlsLmxlbmd0aCA+PSAzICYmIHRoaXMuZW1haWwubGVuZ3RoIDw9IDMyMCkgewogICAgICAgICAgICAgICAgdGhpcy5lbWFpbFZhbGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuZW1haWxGZWVkYmFjayA9ICIiOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW1haWwubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgdGhpcy5lbWFpbFZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmVtYWlsRmVlZGJhY2sgPSAiUGxlYXNlIGVudGVyIGF0IGxlYXN0IDMgY2hhcmFjdGVycy4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lbWFpbFZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmVtYWlsRmVlZGJhY2sgPSAiRW1haWwgYWRkcmVzc2VzIGFyZSBsaW1pdGVkIHRvIDMyMCBjaGFyYWN0ZXJzIGluIGxlbmd0aC4iOwogICAgICAgICAgICB9CgogICAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<!-- Component page for logging in for admin account, takes fields such as name username and password -->\n<!-- Also makes sure that the username and password lengths are validated-->\n<template>\n    <div class=\"container\">\n        <div style=\"padding-bottom:25px; padding-top:25px\">\n            <h1>Login</h1>\n        </div>\n\n        <b-col cols=\"5\">\n\n            <div class=\"form-group\" style=\"padding-bottom:10px\">\n                <label>Email address</label>\n                <b-form-input id=\"email-input\" type=\"email\" class=\"form-control form-control-md\" v-model=\"email\" aria-describedby=\"email-feedback\" :state=\"emailValid\" @input=\"validateEmail\"/>\n                <b-form-invalid-feedback id=\"email-feedback\">{{emailFeedback}}</b-form-invalid-feedback>\n            </div>\n\n            <div class=\"form-group\" style=\"padding-bottom:10px\">\n                <label>Password</label>\n                <b-form-input id=\"password-input\" type=\"password\" class=\"form-control form-control-md\" v-model=\"password\" aria-describedby=\"password-feedback\" :state=\"passwordValid\" @input=\"validatePassword\"/>\n                <b-form-invalid-feedback id=\"password-feedback\">{{passwordFeedback}}</b-form-invalid-feedback>\n            </div>\n        </b-col>\n\n        <!-- Error Message -->\n        <div id=\"login-error-message\" style=\"color:red\">{{errorMessage}}</div>\n\n        <!-- Buttons -->\n        <div>\n            <b-col cols=\"5\">\n            <b-button-toolbar style=\"padding-top:10px\">\n                <!-- Login Button -->\n                <b-button-group>\n                    <b-button id=\"login-customer\" v-show=\"!loading\" variant=\"success\" @click=\"loginCustomer()\">\n                        <b-icon icon=\"plus-circle\"></b-icon>\n                        Login\n                    </b-button>\n                </b-button-group>\n                <!-- Submitting spinner -->\n                <b-button-group>\n                    <b-button v-show=\"loading\" variant=\"success\" disabled>\n                        <b-spinner small></b-spinner>\n                        Submitting...\n                    </b-button>\n                </b-button-group>\n                <!-- Cancel -->\n                <b-button-group class=\"mx-1\">\n                    <b-button id=\"cancel-login\" variant=\"danger\" @click=\"cancelLogin()\" :disabled=\"loading\">\n                        Cancel\n                    </b-button>\n                </b-button-group>\n            </b-button-toolbar>\n            </b-col>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Login',\n        data() {\n            return {\n               // Customer inputs\n                email: \"\",\n                emailValid: null,\n                password: \"\",\n                passwordValid: null,\n                loading: false,\n                errorMessage: \"\",\n                passwordFeedback: \"\",\n                emailFeedback: \"\",\n            }\n        },\n        methods: {\n            loginCustomer() {\n                var internal = this;\n\n                // if the input is valid, call the getCustomer mutation method.\n                if (this.passwordValid && this.emailValid) {\n                    \n                    internal.loading = true;\n                    internal.errorMessage = \"\"; // reset error message if there was one\n                    \n                    try { \n                        this.$store.dispatch ('getCustomer', { email: internal.email, password: internal.password})\n                        .then((status) => {\n\n                            // check if status code indicates success or failure\n                            if (status < 300) {\n\n                                // create Toast to inform user that login was successful\n                                this.$root.$bvToast.toast('Successfully logged in.', {\n                                    title: 'Success',\n                                    variant: 'success',\n                                });\n\n                                // redirect user to the testList page\n                                this.$router.push({ path: '/clients' });\n                            } else {\n                                // stay and note that there was an error if failure\n                                internal.loading = false;\n                                internal.errorMessage = \"There was a problem logging in account. Please try again.\";\n                            }\n                        }).catch((error) => {\n                            internal.loading = false;\n                            internal.errorMessage = \"There was a problem logging in account. Please try again.\";\n                            console.log(\"ERROR:\", error);\n                        }\n                        );\n                    } catch (error) {\n                        internal.loading = false;\n                        internal.errorMessage = \"There was a problem logging in account. Please try again.\";\n                        console.log(\"ERROR:\", error);\n                    }\n                } else {\n                    // if there is invalid/missing input in form, indicate this to the user.\n                    internal.errorMessage = \"Please fill out the form as indicated above.\"\n                }\n            },\n            cancelLogin() {\n                // return back to the sign up page if user clicks Cancel\n                this.$router.push({ path: '/login' });\n            },\n            validatePassword() {\n                // validate that Password is at least 3 characters and less than or equal to 100 characters\n                if (this.password.length >= 8 && this.password.length <= 100) {\n                    this.passwordValid = true;\n                    this.passwordFeedback = \"\";\n                } else if (this.password.length < 8) {\n                    this.passwordValid = false;\n                    this.passwordFeedback = \"Please enter at least 8 characters.\";\n                } else {\n                    this.passwordValid = false;\n                    this.passwordFeedback = \"Passwords are limited to 100 characters in length.\";\n                }\n            },\n            validateEmail() {\n                // validate that email is at least 3 characters and less than or equal to 320 characters (https://tools.ietf.org/html/rfc3696#section-3)\n                if (this.email.length >= 3 && this.email.length <= 320) {\n                    this.emailValid = true;\n                    this.emailFeedback = \"\";\n                } else if (this.email.length < 3) {\n                    this.emailValid = false;\n                    this.emailFeedback = \"Please enter at least 3 characters.\";\n                } else {\n                    this.emailValid = false;\n                    this.emailFeedback = \"Email addresses are limited to 320 characters in length.\";\n                }\n\n            }\n        },\n    }\n</script>"]}]}