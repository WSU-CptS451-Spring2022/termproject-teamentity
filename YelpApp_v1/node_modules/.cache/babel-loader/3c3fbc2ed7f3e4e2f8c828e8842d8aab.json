{"remainingRequest":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js!/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brandonluy/Desktop/admin-website/src/components/ViewBusinesses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brandonluy/Desktop/admin-website/src/components/ViewBusinesses.vue","mtime":1648562893474},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js","mtime":1648530005330},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js","mtime":1648530005500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBNZFRhYmxlIH0gZnJvbSAndnVlLW1hdGVyaWFsL2Rpc3QvY29tcG9uZW50cyc7CmltcG9ydCAndnVlLW1hdGVyaWFsL2Rpc3QvdnVlLW1hdGVyaWFsLm1pbi5jc3MnOwppbXBvcnQgJ3Z1ZS1tYXRlcmlhbC9kaXN0L3RoZW1lL2RlZmF1bHQuY3NzJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpWdWUudXNlKE1kVGFibGUpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hbmFnZVRlc3RQYWNrYWdlcycsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1clNlYXJjaDogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZmlsdGVyZWRUZXN0UGFja2FnZXM6IGZ1bmN0aW9uIGZpbHRlcmVkVGVzdFBhY2thZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy5zZWFyY2hCdXNpbmVzcygpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBpbnRlcm5hbCA9IHRoaXM7IC8vIHdoZW4gdGhlIGNvbXBvbmVudCBtb3VudHMsIHF1ZXJ5IHdoaWNoIFRlc3QgUGFja2FnZXMgYXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgQ3VzdG9tZXIgKHVzZXIpLgoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRUZXN0UGFja2FnZXMnKTsKICB9LAogIHByb3BzOiB7CiAgICBzZWFyY2hWYWw6IFN0cmluZwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoQnVzaW5lc3M6IGZ1bmN0aW9uIHNlYXJjaEJ1c2luZXNzKCkgewogICAgICB2YXIgaW50ZXJuYWwgPSB0aGlzOyAvLyBpZiB0aGVyZSBhcmVuJ3QgYW55IFRlc3QgUGFja2FnZXMsIHJldHVybiBhbiBlbXB0eSBhcnJheQoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnRlc3RQYWNrYWdlcyA9PSBudWxsIHx8IHRoaXMuJHN0b3JlLnN0YXRlLnRlc3RQYWNrYWdlcy5sZW5ndGggPT0gMCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSAvLyBtYWtlIHNlYXJjaCBsb3dlcmNhc2Ugc28gdGhhdCBpdCBpc24ndCBjYXNlIHNlbnNpdGl2ZQoKCiAgICAgIHZhciBzZWFyY2hTdHJpbmcgPSBpbnRlcm5hbC5jdXJTZWFyY2gudG9Mb3dlckNhc2UoKTsgLy8gSWYgYW55IHBhcnQgb2YgdGhlIENsaWVudCdzIG5hbWUsIGVtYWlsLCBvciBwaG9uZSBudW1iZXIgbWF0Y2ggdGhlIHNlYXJjaCBzdHJpbmcsIHNob3cgdGhlbSBhcyBhIHNlYXJjaCByZXN1bHQKCiAgICAgIHZhciByZXN1bHRzID0gdGhpcy4kc3RvcmUuc3RhdGUudGVzdFBhY2thZ2VzLmZpbHRlcihmdW5jdGlvbiAodGVzdCkgewogICAgICAgIGlmICh0ZXN0LnBhY2thZ2VOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoU3RyaW5nKSkgewogICAgICAgICAgcmV0dXJuIHRlc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9LAogICAgcmVkaXJlY3RUb0NyZWF0ZVRlc3RQYWNrYWdlOiBmdW5jdGlvbiByZWRpcmVjdFRvQ3JlYXRlVGVzdFBhY2thZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2NyZWF0ZXRlc3RwYWNrYWdlJwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ViewBusinesses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,SAAA,OAAA,QAAA,8BAAA;AACA,OAAA,wCAAA;AACA,OAAA,qCAAA;AACA,OAAA,GAAA,MAAA,KAAA;AACA,GAAA,CAAA,GAAA,CAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,QAAA,EAAA;AACA,IAAA,oBADA,kCACA;AACA,aAAA,KAAA,cAAA,EAAA;AACA;AAHA,GATA;AAcA,EAAA,OAdA,qBAcA;AACA,QAAA,QAAA,GAAA,IAAA,CADA,CAGA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,iBAAA;AAEA,GApBA;AAqBA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GArBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,QAAA,GAAA,IAAA,CADA,CAGA;;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,IAAA,IAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,EAAA;AACA,OANA,CAQA;;;AACA,UAAA,YAAA,GAAA,QAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CATA,CAWA;;AACA,UAAA,OAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,WAAA,CAAA,WAAA,GAAA,QAAA,CAAA,YAAA,CAAA,EAAA;AACA,iBAAA,IAAA;AACA;AACA,OAJA,CAAA;AAKA,aAAA,OAAA;AACA,KAnBA;AAqBA,IAAA,2BArBA,yCAqBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AAvBA;AAxBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- View Businesses Page Header-->\n    <div style=\"padding-bottom:50px; padding-top:25px\">\n        <h1>View Businesses</h1>\n    </div>\n    <div style=\"padding-bottom:25px\">\n        <b-row>\n            <b-col>\n                <!-- Search bar -->\n                <b-input-group>\n                    <!-- Activates search method when input in search bar changes -->\n                    <b-form-input placeholder=\"Search...\" @input=\"searchBusiness()\" v-model=\"curSearch\"></b-form-input>\n                    <b-input-group-append>\n                        <!-- search button, mostly aesthetic, but also activates search method when clicked -->\n                        <b-button variant=\"outline-secondary\" @click=\"searchBusiness()\">\n                            <b-icon icon=\"search\"></b-icon>\n                        </b-button>\n                    </b-input-group-append>\n                </b-input-group>\n            </b-col>\n            <b-col>\n                <!-- Enroll new Client button, will redirect user to New Client page in the future -->\n                <b-button variant=\"success\" title=\"Note\" @click=\"redirectToCreateTestPackage()\">\n                    <b-icon icon=\"plus-circle\"></b-icon>\n                    Retrieve States\n                </b-button>\n            </b-col>\n        </b-row>\n    </div>\n    <div>\n        <!-- Client table, renders the filteredClients (Clients that meet current search criteria) -->\n        <md-table v-model=\"filteredTestPackages\" style=\"padding-bottom:50px\">\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n                <md-table-cell md-label=\"Name\" md-sort-by=\"name\"><router-link :to=\"`/testpackages/${item.testPackageId}`\" class=\"nav-link\">{{ item.packageName }}</router-link></md-table-cell>\n                <md-table-cell md-label=\"Number of Tests\" md-sort-by=\"numTests\">{{ item.testSettings.length }}</md-table-cell>\n            </md-table-row>\n        </md-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { MdTable } from 'vue-material/dist/components';\nimport 'vue-material/dist/vue-material.min.css'\nimport 'vue-material/dist/theme/default.css'\nimport Vue from 'vue';\nVue.use(MdTable);\n\nexport default {\n    name: 'ManageTestPackages',\n    components: {\n    },\n    data() {\n        return {\n            curSearch: \"\",\n        }\n    },\n    computed: {\n        filteredTestPackages() {\n            return this.searchBusiness();\n        }\n    },\n    mounted () {\n      var internal = this;\n\n      // when the component mounts, query which Test Packages are associated with the Customer (user).\n      this.$store.dispatch('getTestPackages');\n\n    },\n    props: {\n        searchVal: String\n    },\n    methods: {\n        searchBusiness() {\n            var internal = this;\n\n            // if there aren't any Test Packages, return an empty array\n            if (this.$store.state.testPackages == null || this.$store.state.testPackages.length == 0) {\n                return [];\n            }\n\n            // make search lowercase so that it isn't case sensitive\n            const searchString = internal.curSearch.toLowerCase();\n\n            // If any part of the Client's name, email, or phone number match the search string, show them as a search result\n            const results = this.$store.state.testPackages.filter( function(test) {\n                if (test.packageName.toLowerCase().includes(searchString)) {\n                    return test;\n                }\n            });\n            return results;\n        },\n\n        redirectToCreateTestPackage() {\n            this.$router.push({ path: '/createtestpackage' });\n        },\n    }\n}\n\n\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/components"}]}