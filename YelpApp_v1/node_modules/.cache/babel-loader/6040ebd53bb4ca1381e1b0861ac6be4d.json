{"remainingRequest":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js!/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brandonluy/Desktop/admin-website/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brandonluy/Desktop/admin-website/src/components/Login.vue","mtime":1639724274000},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/babel-loader/lib/index.js","mtime":1648530005330},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/cache-loader/dist/cjs.js","mtime":1648530004744},{"path":"/Users/brandonluy/Desktop/admin-website/node_modules/vue-loader/lib/index.js","mtime":1648530005500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIEN1c3RvbWVyIGlucHV0cwogICAgICBlbWFpbDogIiIsCiAgICAgIGVtYWlsVmFsaWQ6IG51bGwsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcGFzc3dvcmRWYWxpZDogbnVsbCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogIiIsCiAgICAgIHBhc3N3b3JkRmVlZGJhY2s6ICIiLAogICAgICBlbWFpbEZlZWRiYWNrOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luQ3VzdG9tZXI6IGZ1bmN0aW9uIGxvZ2luQ3VzdG9tZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaW50ZXJuYWwgPSB0aGlzOyAvLyBpZiB0aGUgaW5wdXQgaXMgdmFsaWQsIGNhbGwgdGhlIGdldEN1c3RvbWVyIG11dGF0aW9uIG1ldGhvZC4KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkVmFsaWQgJiYgdGhpcy5lbWFpbFZhbGlkKSB7CiAgICAgICAgaW50ZXJuYWwubG9hZGluZyA9IHRydWU7CiAgICAgICAgaW50ZXJuYWwuZXJyb3JNZXNzYWdlID0gIiI7IC8vIHJlc2V0IGVycm9yIG1lc3NhZ2UgaWYgdGhlcmUgd2FzIG9uZQoKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEN1c3RvbWVyJywgewogICAgICAgICAgICBlbWFpbDogaW50ZXJuYWwuZW1haWwsCiAgICAgICAgICAgIHBhc3N3b3JkOiBpbnRlcm5hbC5wYXNzd29yZAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3RhdHVzKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHN0YXR1cyBjb2RlIGluZGljYXRlcyBzdWNjZXNzIG9yIGZhaWx1cmUKICAgICAgICAgICAgaWYgKHN0YXR1cyA8IDMwMCkgewogICAgICAgICAgICAgIC8vIGNyZWF0ZSBUb2FzdCB0byBpbmZvcm0gdXNlciB0aGF0IGxvZ2luIHdhcyBzdWNjZXNzZnVsCiAgICAgICAgICAgICAgX3RoaXMuJHJvb3QuJGJ2VG9hc3QudG9hc3QoJ1N1Y2Nlc3NmdWxseSBsb2dnZWQgaW4uJywgewogICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOyAvLyByZWRpcmVjdCB1c2VyIHRvIHRoZSB0ZXN0TGlzdCBwYWdlCgoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogJy9jbGllbnRzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIHN0YXkgYW5kIG5vdGUgdGhhdCB0aGVyZSB3YXMgYW4gZXJyb3IgaWYgZmFpbHVyZQogICAgICAgICAgICAgIGludGVybmFsLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBpbnRlcm5hbC5lcnJvck1lc3NhZ2UgPSAiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2dnaW5nIGluIGFjY291bnQuIFBsZWFzZSB0cnkgYWdhaW4uIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGludGVybmFsLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgaW50ZXJuYWwuZXJyb3JNZXNzYWdlID0gIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9nZ2luZyBpbiBhY2NvdW50LiBQbGVhc2UgdHJ5IGFnYWluLiI7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFUlJPUjoiLCBlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgaW50ZXJuYWwubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgaW50ZXJuYWwuZXJyb3JNZXNzYWdlID0gIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9nZ2luZyBpbiBhY2NvdW50LiBQbGVhc2UgdHJ5IGFnYWluLiI7CiAgICAgICAgICBjb25zb2xlLmxvZygiRVJST1I6IiwgZXJyb3IpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBpZiB0aGVyZSBpcyBpbnZhbGlkL21pc3NpbmcgaW5wdXQgaW4gZm9ybSwgaW5kaWNhdGUgdGhpcyB0byB0aGUgdXNlci4KICAgICAgICBpbnRlcm5hbC5lcnJvck1lc3NhZ2UgPSAiUGxlYXNlIGZpbGwgb3V0IHRoZSBmb3JtIGFzIGluZGljYXRlZCBhYm92ZS4iOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsTG9naW46IGZ1bmN0aW9uIGNhbmNlbExvZ2luKCkgewogICAgICAvLyByZXR1cm4gYmFjayB0byB0aGUgc2lnbiB1cCBwYWdlIGlmIHVzZXIgY2xpY2tzIENhbmNlbAogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGVQYXNzd29yZDogZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZCgpIHsKICAgICAgLy8gdmFsaWRhdGUgdGhhdCBQYXNzd29yZCBpcyBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byAxMDAgY2hhcmFjdGVycwogICAgICBpZiAodGhpcy5wYXNzd29yZC5sZW5ndGggPj0gOCAmJiB0aGlzLnBhc3N3b3JkLmxlbmd0aCA8PSAxMDApIHsKICAgICAgICB0aGlzLnBhc3N3b3JkVmFsaWQgPSB0cnVlOwogICAgICAgIHRoaXMucGFzc3dvcmRGZWVkYmFjayA9ICIiOwogICAgICB9IGVsc2UgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoIDwgOCkgewogICAgICAgIHRoaXMucGFzc3dvcmRWYWxpZCA9IGZhbHNlOwogICAgICAgIHRoaXMucGFzc3dvcmRGZWVkYmFjayA9ICJQbGVhc2UgZW50ZXIgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzLiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXNzd29yZFZhbGlkID0gZmFsc2U7CiAgICAgICAgdGhpcy5wYXNzd29yZEZlZWRiYWNrID0gIlBhc3N3b3JkcyBhcmUgbGltaXRlZCB0byAxMDAgY2hhcmFjdGVycyBpbiBsZW5ndGguIjsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlRW1haWw6IGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoKSB7CiAgICAgIC8vIHZhbGlkYXRlIHRoYXQgZW1haWwgaXMgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMzIwIGNoYXJhY3RlcnMgKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNjk2I3NlY3Rpb24tMykKICAgICAgaWYgKHRoaXMuZW1haWwubGVuZ3RoID49IDMgJiYgdGhpcy5lbWFpbC5sZW5ndGggPD0gMzIwKSB7CiAgICAgICAgdGhpcy5lbWFpbFZhbGlkID0gdHJ1ZTsKICAgICAgICB0aGlzLmVtYWlsRmVlZGJhY2sgPSAiIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmVtYWlsLmxlbmd0aCA8IDMpIHsKICAgICAgICB0aGlzLmVtYWlsVmFsaWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmVtYWlsRmVlZGJhY2sgPSAiUGxlYXNlIGVudGVyIGF0IGxlYXN0IDMgY2hhcmFjdGVycy4iOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZW1haWxWYWxpZCA9IGZhbHNlOwogICAgICAgIHRoaXMuZW1haWxGZWVkYmFjayA9ICJFbWFpbCBhZGRyZXNzZXMgYXJlIGxpbWl0ZWQgdG8gMzIwIGNoYXJhY3RlcnMgaW4gbGVuZ3RoLiI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,IAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,aAAA,EAAA,IALA;AAMA,MAAA,OAAA,EAAA,KANA;AAOA,MAAA,YAAA,EAAA,EAPA;AAQA,MAAA,gBAAA,EAAA,EARA;AASA,MAAA,aAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,UAAA,QAAA,GAAA,IAAA,CADA,CAGA;;AACA,UAAA,KAAA,aAAA,IAAA,KAAA,UAAA,EAAA;AAEA,QAAA,QAAA,CAAA,OAAA,GAAA,IAAA;AACA,QAAA,QAAA,CAAA,YAAA,GAAA,EAAA,CAHA,CAGA;;AAEA,YAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AAAA,YAAA,KAAA,EAAA,QAAA,CAAA,KAAA;AAAA,YAAA,QAAA,EAAA,QAAA,CAAA;AAAA,WAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AAEA;AACA,gBAAA,MAAA,GAAA,GAAA,EAAA;AAEA;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,yBAAA,EAAA;AACA,gBAAA,KAAA,EAAA,SADA;AAEA,gBAAA,OAAA,EAAA;AAFA,eAAA,EAHA,CAQA;;;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA,aAVA,MAUA;AACA;AACA,cAAA,QAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,QAAA,CAAA,YAAA,GAAA,2DAAA;AACA;AACA,WAnBA,EAmBA,KAnBA,CAmBA,UAAA,KAAA,EAAA;AACA,YAAA,QAAA,CAAA,OAAA,GAAA,KAAA;AACA,YAAA,QAAA,CAAA,YAAA,GAAA,2DAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA;AACA,WAvBA;AAyBA,SA1BA,CA0BA,OAAA,KAAA,EAAA;AACA,UAAA,QAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,QAAA,CAAA,YAAA,GAAA,2DAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA;AACA;AACA,OApCA,MAoCA;AACA;AACA,QAAA,QAAA,CAAA,YAAA,GAAA,8CAAA;AACA;AACA,KA7CA;AA8CA,IAAA,WA9CA,yBA8CA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAjDA;AAkDA,IAAA,gBAlDA,8BAkDA;AACA;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,IAAA,KAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,aAAA,aAAA,GAAA,IAAA;AACA,aAAA,gBAAA,GAAA,EAAA;AACA,OAHA,MAGA,IAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,aAAA,GAAA,KAAA;AACA,aAAA,gBAAA,GAAA,qCAAA;AACA,OAHA,MAGA;AACA,aAAA,aAAA,GAAA,KAAA;AACA,aAAA,gBAAA,GAAA,oDAAA;AACA;AACA,KA9DA;AA+DA,IAAA,aA/DA,2BA+DA;AACA;AACA,UAAA,KAAA,KAAA,CAAA,MAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA,aAAA,aAAA,GAAA,EAAA;AACA,OAHA,MAGA,IAAA,KAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,UAAA,GAAA,KAAA;AACA,aAAA,aAAA,GAAA,qCAAA;AACA,OAHA,MAGA;AACA,aAAA,UAAA,GAAA,KAAA;AACA,aAAA,aAAA,GAAA,0DAAA;AACA;AAEA;AA5EA;AAfA,CAAA","sourcesContent":["<!-- Component page for logging in for admin account, takes fields such as name username and password -->\n<!-- Also makes sure that the username and password lengths are validated-->\n<template>\n    <div class=\"container\">\n        <div style=\"padding-bottom:25px; padding-top:25px\">\n            <h1>Login</h1>\n        </div>\n\n        <b-col cols=\"5\">\n\n            <div class=\"form-group\" style=\"padding-bottom:10px\">\n                <label>Email address</label>\n                <b-form-input id=\"email-input\" type=\"email\" class=\"form-control form-control-md\" v-model=\"email\" aria-describedby=\"email-feedback\" :state=\"emailValid\" @input=\"validateEmail\"/>\n                <b-form-invalid-feedback id=\"email-feedback\">{{emailFeedback}}</b-form-invalid-feedback>\n            </div>\n\n            <div class=\"form-group\" style=\"padding-bottom:10px\">\n                <label>Password</label>\n                <b-form-input id=\"password-input\" type=\"password\" class=\"form-control form-control-md\" v-model=\"password\" aria-describedby=\"password-feedback\" :state=\"passwordValid\" @input=\"validatePassword\"/>\n                <b-form-invalid-feedback id=\"password-feedback\">{{passwordFeedback}}</b-form-invalid-feedback>\n            </div>\n        </b-col>\n\n        <!-- Error Message -->\n        <div id=\"login-error-message\" style=\"color:red\">{{errorMessage}}</div>\n\n        <!-- Buttons -->\n        <div>\n            <b-col cols=\"5\">\n            <b-button-toolbar style=\"padding-top:10px\">\n                <!-- Login Button -->\n                <b-button-group>\n                    <b-button id=\"login-customer\" v-show=\"!loading\" variant=\"success\" @click=\"loginCustomer()\">\n                        <b-icon icon=\"plus-circle\"></b-icon>\n                        Login\n                    </b-button>\n                </b-button-group>\n                <!-- Submitting spinner -->\n                <b-button-group>\n                    <b-button v-show=\"loading\" variant=\"success\" disabled>\n                        <b-spinner small></b-spinner>\n                        Submitting...\n                    </b-button>\n                </b-button-group>\n                <!-- Cancel -->\n                <b-button-group class=\"mx-1\">\n                    <b-button id=\"cancel-login\" variant=\"danger\" @click=\"cancelLogin()\" :disabled=\"loading\">\n                        Cancel\n                    </b-button>\n                </b-button-group>\n            </b-button-toolbar>\n            </b-col>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Login',\n        data() {\n            return {\n               // Customer inputs\n                email: \"\",\n                emailValid: null,\n                password: \"\",\n                passwordValid: null,\n                loading: false,\n                errorMessage: \"\",\n                passwordFeedback: \"\",\n                emailFeedback: \"\",\n            }\n        },\n        methods: {\n            loginCustomer() {\n                var internal = this;\n\n                // if the input is valid, call the getCustomer mutation method.\n                if (this.passwordValid && this.emailValid) {\n                    \n                    internal.loading = true;\n                    internal.errorMessage = \"\"; // reset error message if there was one\n                    \n                    try { \n                        this.$store.dispatch ('getCustomer', { email: internal.email, password: internal.password})\n                        .then((status) => {\n\n                            // check if status code indicates success or failure\n                            if (status < 300) {\n\n                                // create Toast to inform user that login was successful\n                                this.$root.$bvToast.toast('Successfully logged in.', {\n                                    title: 'Success',\n                                    variant: 'success',\n                                });\n\n                                // redirect user to the testList page\n                                this.$router.push({ path: '/clients' });\n                            } else {\n                                // stay and note that there was an error if failure\n                                internal.loading = false;\n                                internal.errorMessage = \"There was a problem logging in account. Please try again.\";\n                            }\n                        }).catch((error) => {\n                            internal.loading = false;\n                            internal.errorMessage = \"There was a problem logging in account. Please try again.\";\n                            console.log(\"ERROR:\", error);\n                        }\n                        );\n                    } catch (error) {\n                        internal.loading = false;\n                        internal.errorMessage = \"There was a problem logging in account. Please try again.\";\n                        console.log(\"ERROR:\", error);\n                    }\n                } else {\n                    // if there is invalid/missing input in form, indicate this to the user.\n                    internal.errorMessage = \"Please fill out the form as indicated above.\"\n                }\n            },\n            cancelLogin() {\n                // return back to the sign up page if user clicks Cancel\n                this.$router.push({ path: '/login' });\n            },\n            validatePassword() {\n                // validate that Password is at least 3 characters and less than or equal to 100 characters\n                if (this.password.length >= 8 && this.password.length <= 100) {\n                    this.passwordValid = true;\n                    this.passwordFeedback = \"\";\n                } else if (this.password.length < 8) {\n                    this.passwordValid = false;\n                    this.passwordFeedback = \"Please enter at least 8 characters.\";\n                } else {\n                    this.passwordValid = false;\n                    this.passwordFeedback = \"Passwords are limited to 100 characters in length.\";\n                }\n            },\n            validateEmail() {\n                // validate that email is at least 3 characters and less than or equal to 320 characters (https://tools.ietf.org/html/rfc3696#section-3)\n                if (this.email.length >= 3 && this.email.length <= 320) {\n                    this.emailValid = true;\n                    this.emailFeedback = \"\";\n                } else if (this.email.length < 3) {\n                    this.emailValid = false;\n                    this.emailFeedback = \"Please enter at least 3 characters.\";\n                } else {\n                    this.emailValid = false;\n                    this.emailFeedback = \"Email addresses are limited to 320 characters in length.\";\n                }\n\n            }\n        },\n    }\n</script>"],"sourceRoot":"src/components"}]}